var Next = require('../lib/Next.js');
var fs = require('fs');

var next = new Next();

next.next(function(a,b){
    fs.stat(__filename, function (e,stat) {
        if(e) throw e;
        console.log(a,b);
        next.start(stat);
    })
}).next(function(stat){
    fs.access(__filename, function (e) {
        console.log('this file size=' + stat.size);
        next.start( e ? false : true);
    })
}).next(function(exists){
    console.log('exists = '+exists);

}).start('start','bbb');

console.log('helloworld:'+ next);
